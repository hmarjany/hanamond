<div *ngIf="!isDataAvailable" >
  <app-loading [strictLoading]="!isDataAvailable">
  </app-loading>
</div>

<div *ngIf="isDataAvailable" class="profileTopset">
  <div fxLayout="row" fxLayoutGap="2px" fxLayoutAlign="start start" class="saveContainer">
    <div fxLayout="row" fxLayoutGap="2px" fxLayoutAlign="center center">
      <button type="submit" style="cursor: pointer;" (click)="save()">
        <mat-icon style="cursor: pointer;">save</mat-icon>
        <div>ذخیره تغییرات</div>
      </button>
    </div>
  </div>
  <mat-vertical-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>مشخصات عمومی</ng-template>
        <div fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="center start">
          <mat-form-field>
            <input matInput placeholder="نام و نام خانوادگی" formControlName="name" [(ngModel)]="currentUser.name" required autocomplete="off">
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="شماره همراه" formControlName="phone" [(ngModel)]="currentUser.phoneNumber" required autocomplete="off">
          </mat-form-field>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
      <ng-template matStepLabel>آدرس ها</ng-template>
      <app-address [addressList] = "address" [ProfileView]="true" (addresses) ="onAddresses($event)"></app-address>
    </mat-step>

  </mat-vertical-stepper>
</div>